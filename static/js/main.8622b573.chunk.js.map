{"version":3,"sources":["services/services.js","Components/ImageGallery/ImageGallery.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/LoadMore/LoadMore.js","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","App.js","index.js"],"names":["ApoServices","fetchImage","a","searchQuery","page","fetch","then","r","json","ImageGallery","children","imageClick","onClick","className","ImageGalleryItem","imageArr","map","webformatURL","id","tags","largeImageURL","data-largeurl","src","alt","LoadMore","onChange","type","Searchbar","state","inputValue","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","autoComplete","autoFocus","placeholder","Component","Modal","handleKeyDownEsc","closeModal","code","handleOverlayClick","target","window","addEventListener","removeEventListener","largeImage","App","images","loading","showModal","fetchImages","options","imageAPI","hits","prevState","finally","onChangeQuery","query","toggleModal","getLargeImage","dataset","largeurl","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","LoadMoreButton","length","color","height","width","React","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8622b573.chunk.js","sourcesContent":["const fetchImage = async ({ searchQuery, page }) => {\n  return await fetch(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=21324374-26e3d3b86bafb4c298c1385cf&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((r) => r.json());\n};\n\nconst ApoServices = {\n  fetchImage,\n};\nexport default ApoServices;\n","import React from \"react\";\n\nconst ImageGallery = ({ children, imageClick }) => {\n  return (\n    <ul onClick={imageClick} className=\"ImageGallery\">\n      {children}\n    </ul>\n  );\n};\nexport default ImageGallery;\n","const ImageGalleryItem = ({ imageArr, onClick }) => {\n  return imageArr.map(({ webformatURL, id, tags, largeImageURL }) => {\n    return (\n      <li onClick={onClick} key={id} className=\"ImageGalleryItem\">\n        <img\n          data-largeurl={largeImageURL}\n          src={webformatURL}\n          alt={tags}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  });\n};\n\nexport default ImageGalleryItem;\n","const LoadMore = ({ onChange }) => {\n  return (\n    <button className={\"Button\"} onClick={onChange} type=\"button\">\n      load more\n    </button>\n  );\n};\nexport default LoadMore;\n","import React, { Component } from \"react\";\n\nclass Searchbar extends Component {\n  state = {\n    inputValue: \"\",\n  };\n  handleChange = (e) => {\n    this.setState({ inputValue: e.currentTarget.value });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: \"\" });\n  };\n  render() {\n    const { inputValue } = this.state;\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={this.handleChange}\n            value={inputValue}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from \"react\";\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDownEsc);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDownEsc);\n  }\n  handleKeyDownEsc = (e) => {\n    const { closeModal } = this.props;\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  };\n  handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.closeModal();\n    }\n  };\n  render() {\n    const { largeImage, alt } = this.props;\n    return (\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\n        <div className=\"Modal\">\n          <img src={largeImage} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\nexport default Modal;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport imageAPI from \"./services/services\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport ImageGalleryItem from \"./Components/ImageGalleryItem\";\nimport LoadMore from \"./Components/LoadMore\";\nimport Searchbar from \"./Components/Searchbar\";\nimport Modal from \"./Components/Modal\";\n\nclass App extends React.Component {\n  state = {\n    searchQuery: \"\",\n    images: [],\n    page: 1,\n    loading: false,\n    showModal: false,\n    largeImage: \"\",\n    alt: \"\",\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n  fetchImages = () => {\n    this.setState({ loading: true });\n    const { searchQuery, page } = this.state;\n    const options = {\n      searchQuery,\n      page,\n    };\n    // setTimeout(() => {\n    //   return imageAPI\n    //     .fetchImage(options)\n    //     .then(({ hits }) =>\n    //       this.setState((prevState) => ({\n    //         images: [...prevState.images, ...hits],\n    //         page: prevState.page + 1,\n    //       }))\n    //     )\n    //     .finally(this.setState({ loading: false }));\n    // }, 2000);\n    imageAPI\n      .fetchImage(options)\n      .then(({ hits }) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n        }))\n      )\n      .finally(this.setState({ loading: false }));\n  };\n  onChangeQuery = (query) => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  getLargeImage = (e) => {\n    this.setState({ largeImage: e.target.dataset.largeurl, alt: e.target.alt });\n  };\n\n  render() {\n    const { images, loading, showModal, largeImage, alt } = this.state;\n    const LoadMoreButton = images.length > 0;\n    return (\n      <div className={\"container\"}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery imageClick={this.getLargeImage}>\n          <ImageGalleryItem onClick={this.toggleModal} imageArr={images} />\n        </ImageGallery>\n        {loading && (\n          <Loader\n            className={\"spinier\"}\n            type=\"Oval\"\n            color=\"#00BFFF\"\n            height={50}\n            width={50}\n          />\n        )}\n\n        {LoadMoreButton && !loading && <LoadMore onChange={this.fetchImages} />}\n        {showModal && (\n          <Modal\n            largeImage={largeImage}\n            alt={alt}\n            closeModal={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"modern-normalize\";\nimport \"./styles.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}